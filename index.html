<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>客运包车运次备案信息</title>
    <style>
        body {
            font-family: 'SimSun', serif;
            background-color: #ffffff;
            color: #333333;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .title {
            text-align: center;
            font-size: 22px;
            font-weight: bold;
            margin: 20px 0 15px;
            color: #333333;
        }
        .info-table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #dddddd;
        }
        .info-table th, .info-table td {
            border: 1px solid #dddddd;
            padding: 10px 12px;
            font-size: 15px;
        }
        .info-table th {
            width: 35%;
            background-color: #f5f5f5;
            text-align: center;
            font-weight: bold;
        }
        .info-table td {
            width: 65%;
            text-align: left;
            background-color: #ffffff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">客运包车运次备案信息</h1>
        <table class="info-table">
            <tr>
                <th>起始地：</th>
                <td id="startLocation">--</td>
            </tr>
            <tr>
                <th>终到地：</th>
                <td id="endLocation">--</td>
            </tr>
            <tr>
                <th>标志牌顺序号：</th>
                <td id="signSerialNumber">--</td>
            </tr>
            <tr>
                <th>车牌号：</th>
                <td id="vehicleNumber">--</td>
            </tr>
            <tr>
                <th>运输企业：</th>
                <td id="transportCompany">--</td>
            </tr>
            <tr>
                <th>驾驶员姓名：</th>
                <td id="driverName">--</td>
            </tr>
            <tr>
                <th>企业签发人：</th>
                <td id="reserved1">--</td>
            </tr>
            <tr>
                <th>主要途径地：</th>
                <td id="viaLocation">--</td>
            </tr>
            <tr>
                <th>有效期：</th>
                <td id="validPeriod">--</td>
            </tr>
        </table>
    </div>

    <script>
        function parseQueryParams() {
            const params = new URLSearchParams(window.location.search);
            const data = {
                vehicleNumber: params.get('vehicleNumber') || '--',
                signSerialNumber: params.get('signSerialNumber') || '--',
                startLocation: params.get('startLocation') || '--',
                viaLocation: params.get('viaLocation') || '--',
                endLocation: params.get('endLocation') || '--',
                driverName: params.get('driverName') || '--',
                transportCompany: params.get('transportCompany') || '--',
                reserved1: params.get('reserved1') || '--'
            };

            const formatDate = (dateStr) => {
                if (!dateStr) return '--';
                const date = new Date(dateStr);
                if (isNaN(date.getTime())) return '--';
                return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`;
            };

            const startDate = formatDate(params.get('validStart'));
            const endDate = formatDate(params.get('validEnd'));
            data.validPeriod = startDate !== '--' && endDate !== '--' ? `${startDate} 至 ${endDate}` : '--';

            return data;
        }

        window.onload = function() {
            const data = parseQueryParams();
            document.getElementById('startLocation').textContent = data.startLocation;
            document.getElementById('endLocation').textContent = data.endLocation;
            document.getElementById('signSerialNumber').textContent = data.signSerialNumber;
            document.getElementById('vehicleNumber').textContent = data.vehicleNumber;
            document.getElementById('transportCompany').textContent = data.transportCompany;
            document.getElementById('driverName').textContent = data.driverName;
            document.getElementById('reserved1').textContent = data.reserved1;
            document.getElementById('viaLocation').textContent = data.viaLocation;
            document.getElementById('validPeriod').textContent = data.validPeriod;
        };
    </script>
</body>
</html>
